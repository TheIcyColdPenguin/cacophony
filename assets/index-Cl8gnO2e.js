var W=Object.defineProperty;var X=(n,t,r)=>t in n?W(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var c=(n,t,r)=>(X(n,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function m(){}function K(n){return n()}function T(){return Object.create(null)}function D(n){n.forEach(K)}function R(n){return typeof n=="function"}function U(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function Y(n){return Object.keys(n).length===0}function Z(n,...t){if(n==null){for(const e of t)e(void 0);return m}const r=n.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function N(n,t,r){n.$$.on_destroy.push(Z(t,r))}function o(n,t){n.appendChild(t)}function V(n,t,r){n.insertBefore(t,r||null)}function B(n){n.parentNode&&n.parentNode.removeChild(n)}function nn(n,t){for(let r=0;r<n.length;r+=1)n[r]&&n[r].d(t)}function _(n){return document.createElement(n)}function G(n){return document.createTextNode(n)}function F(){return G(" ")}function E(n,t,r,e){return n.addEventListener(t,r,e),()=>n.removeEventListener(t,r,e)}function tn(n,t,r){n.getAttribute(t)!==r&&n.setAttribute(t,r)}function rn(n){return Array.from(n.childNodes)}function q(n,t){t=""+t,n.data!==t&&(n.data=t)}let O;function $(n){O=n}const C=[],I=[];let y=[];const L=[],en=Promise.resolve();let k=!1;function sn(){k||(k=!0,en.then(H))}function v(n){y.push(n)}const x=new Set;let g=0;function H(){if(g!==0)return;const n=O;do{try{for(;g<C.length;){const t=C[g];g++,$(t),an(t.$$)}}catch(t){throw C.length=0,g=0,t}for($(null),C.length=0,g=0;I.length;)I.pop()();for(let t=0;t<y.length;t+=1){const r=y[t];x.has(r)||(x.add(r),r())}y.length=0}while(C.length);for(;L.length;)L.pop()();k=!1,x.clear(),$(n)}function an(n){if(n.fragment!==null){n.update(),D(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(v)}}function cn(n){const t=[],r=[];y.forEach(e=>n.indexOf(e)===-1?t.push(e):r.push(e)),r.forEach(e=>e()),y=t}const un=new Set;function hn(n,t){n&&n.i&&(un.delete(n),n.i(t))}function P(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ln(n,t,r){const{fragment:e,after_update:s}=n.$$;e&&e.m(t,r),v(()=>{const i=n.$$.on_mount.map(K).filter(R);n.$$.on_destroy?n.$$.on_destroy.push(...i):D(i),n.$$.on_mount=[]}),s.forEach(v)}function dn(n,t){const r=n.$$;r.fragment!==null&&(cn(r.after_update),D(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function fn(n,t){n.$$.dirty[0]===-1&&(C.push(n),sn(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function pn(n,t,r,e,s,i,l=null,h=[-1]){const u=O;$(n);const a=n.$$={fragment:null,ctx:[],props:i,update:m,not_equal:s,bound:T(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:T(),dirty:h,skip_bound:!1,root:t.target||u.$$.root};l&&l(a.root);let w=!1;if(a.ctx=r?r(n,t.props||{},(S,f,...d)=>{const b=d.length?d[0]:f;return a.ctx&&s(a.ctx[S],a.ctx[S]=b)&&(!a.skip_bound&&a.bound[S]&&a.bound[S](b),w&&fn(n,S)),f}):[],a.update(),w=!0,D(a.before_update),a.fragment=e?e(a.ctx):!1,t.target){if(t.hydrate){const S=rn(t.target);a.fragment&&a.fragment.l(S),S.forEach(B)}else a.fragment&&a.fragment.c();t.intro&&hn(n.$$.fragment),ln(n,t.target,t.anchor),H()}$(u)}class Sn{constructor(){c(this,"$$");c(this,"$$set")}$destroy(){dn(this,1),this.$destroy=m}$on(t,r){if(!R(r))return m;const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(r),()=>{const s=e.indexOf(r);s!==-1&&e.splice(s,1)}}$set(t){this.$$set&&!Y(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const on="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(on);const A=[];function mn(n,t){return{subscribe:bn(n,t).subscribe}}function bn(n,t=m){let r;const e=new Set;function s(h){if(U(n,h)&&(n=h,r)){const u=!A.length;for(const a of e)a[1](),A.push(a,n);if(u){for(let a=0;a<A.length;a+=2)A[a][0](A[a+1]);A.length=0}}}function i(h){s(h(n))}function l(h,u=m){const a=[h,u];return e.add(a),e.size===1&&(r=t(s,i)||m),h(n),()=>{e.delete(a),e.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:l}}class gn{constructor(t){c(this,"id");c(this,"elems");c(this,"context");c(this,"enabled");c(this,"frontend");c(this,"backend");c(this,"inputs");c(this,"outputs");c(this,"numInputs");c(this,"numOutputs");this.id=0,this.elems=new Map,this.enabled=!1,this.context=t,this.frontend=new GainNode(t),this.backend=t.destination,this.frontend.connect(this.backend),this.inputs=new Map,this.outputs=new Map,this.numInputs=1,this.numOutputs=0}connect(t){console.error("cannot connect a destination node to another")}disconnect(){}}class An{constructor(t,{frequency:r,shape:e,gain:s,detune:i}){c(this,"id");c(this,"elems");c(this,"context");c(this,"enabled");c(this,"frontend");c(this,"backend");c(this,"inputs");c(this,"outputs");c(this,"numInputs");c(this,"numOutputs");this.id=0,this.elems=new Map,this.context=t,this.inputs=new Map,this.outputs=new Map,this.numInputs=0,this.numOutputs=1,this.frontend=new OscillatorNode(t,{frequency:r,detune:i,type:e}),this.backend=new GainNode(t,{gain:s}),this.frontend.connect(this.backend),this.enabled=!1,this.frontend.start(),this.backend.gain.setTargetAtTime(0,this.context.currentTime,.015)}start(){this.enabled=!0,this.backend.gain.setTargetAtTime(1,this.context.currentTime,1)}stop(){this.enabled=!1,this.backend.gain.setTargetAtTime(0,this.context.currentTime,.015)}connect(t,{toInputIndex:r=0}){this.backend.connect(t.frontend,0,r);const e=`${this.id}:0-${t.id}:${r}`;this.outputs.set(e,t.id),t.inputs.set(e,this.id)}disconnect({fromOutputindex:t}){t!==void 0?this.backend.disconnect(t):this.backend.disconnect()}}class _n{constructor(){c(this,"context");c(this,"elems");c(this,"destination");c(this,"sources");let t=window;this.context=new(t.AudioContext||t.webkitAudioContext||t.mozAudioContext||t.oAudioContext||t.msAudioContext),this.elems=new Map,this.destination=this.addNode(new gn(this.context)),this.sources=new Set}createOscillator({frequency:t,shape:r,detune:e,gain:s=1}){const i=new An(this.context,{frequency:t,shape:r,gain:s,detune:e}),l=this.addNode(i);return this.sources.add(l),i}getDestination(){return this.elems.get(this.destination)}getSources(){return Array.from(this.sources.values(),t=>this.elems.get(t))}addNode(t){const r=this.genId();return t.id=r,t.elems=this.elems,this.elems.set(r,t),r}genId(){let t;do t=new Date().valueOf()+Math.floor(100*Math.random());while(this.elems.has(t));return t}}const Cn=mn(new _n);var J=(n=>(n[n.C0=16.35]="C0",n[n.C1=32.7]="C1",n[n.C2=65.41]="C2",n[n.C3=130.81]="C3",n[n.C4=261.63]="C4",n[n.C5=523.25]="C5",n[n.C6=1046.5]="C6",n[n.C7=2093]="C7",n[n.C8=4186]="C8",n[n.CSharp0=17.32]="CSharp0",n[n.CSharp1=34.65]="CSharp1",n[n.CSharp2=69.3]="CSharp2",n[n.CSharp3=138.59]="CSharp3",n[n.CSharp4=277.18]="CSharp4",n[n.CSharp5=554.37]="CSharp5",n[n.CSharp6=1108.73]="CSharp6",n[n.CSharp7=2217.46]="CSharp7",n[n.CSharp8=4434.92]="CSharp8",n[n.D0=18.35]="D0",n[n.D1=36.71]="D1",n[n.D2=73.42]="D2",n[n.D3=146.83]="D3",n[n.D4=293.66]="D4",n[n.D5=587.33]="D5",n[n.D6=1174.66]="D6",n[n.D7=2349.32]="D7",n[n.D8=4698.63]="D8",n[n.DSharp0=19.45]="DSharp0",n[n.DSharp1=38.89]="DSharp1",n[n.DSharp2=77.78]="DSharp2",n[n.DSharp3=155.56]="DSharp3",n[n.DSharp4=311.13]="DSharp4",n[n.DSharp5=622.25]="DSharp5",n[n.DSharp6=1244.51]="DSharp6",n[n.DSharp7=2489]="DSharp7",n[n.DSharp8=4978]="DSharp8",n[n.E0=20.6]="E0",n[n.E1=41.2]="E1",n[n.E2=82.41]="E2",n[n.E3=164.81]="E3",n[n.E4=329.63]="E4",n[n.E5=659.25]="E5",n[n.E6=1318.51]="E6",n[n.E7=2637]="E7",n[n.E8=5274]="E8",n[n.F0=21.83]="F0",n[n.F1=43.65]="F1",n[n.F2=87.31]="F2",n[n.F3=174.61]="F3",n[n.F4=349.23]="F4",n[n.F5=698.46]="F5",n[n.F6=1396.91]="F6",n[n.F7=2793.83]="F7",n[n.F8=5587.65]="F8",n[n.FSharp0=23.12]="FSharp0",n[n.FSharp1=46.25]="FSharp1",n[n.FSharp2=92.5]="FSharp2",n[n.FSharp3=185]="FSharp3",n[n.FSharp4=369.99]="FSharp4",n[n.FSharp5=739.99]="FSharp5",n[n.FSharp6=1479.98]="FSharp6",n[n.FSharp7=2959.96]="FSharp7",n[n.FSharp8=5919.91]="FSharp8",n[n.G0=24.5]="G0",n[n.G1=49]="G1",n[n.G2=98]="G2",n[n.G3=196]="G3",n[n.G4=392]="G4",n[n.G5=783.99]="G5",n[n.G6=1567.98]="G6",n[n.G7=3135.96]="G7",n[n.G8=6271.93]="G8",n[n.GSharp0=25.96]="GSharp0",n[n.GSharp1=51.91]="GSharp1",n[n.GSharp2=103.83]="GSharp2",n[n.GSharp3=207.65]="GSharp3",n[n.GSharp4=415.3]="GSharp4",n[n.GSharp5=830.61]="GSharp5",n[n.GSharp6=1661.22]="GSharp6",n[n.GSharp7=3322.44]="GSharp7",n[n.GSharp8=6644.88]="GSharp8",n[n.A0=27.5]="A0",n[n.A1=55]="A1",n[n.A2=110]="A2",n[n.A3=220]="A3",n[n.A4=440]="A4",n[n.A5=880]="A5",n[n.A6=1760]="A6",n[n.A7=3520]="A7",n[n.A8=7040]="A8",n[n.ASharp0=29.14]="ASharp0",n[n.ASharp1=58.27]="ASharp1",n[n.ASharp2=116.54]="ASharp2",n[n.ASharp3=233.08]="ASharp3",n[n.ASharp4=466.16]="ASharp4",n[n.ASharp5=932.33]="ASharp5",n[n.ASharp6=1864.66]="ASharp6",n[n.ASharp7=3729.31]="ASharp7",n[n.ASharp8=7458.62]="ASharp8",n[n.B0=30.87]="B0",n[n.B1=61.74]="B1",n[n.B2=123.47]="B2",n[n.B3=246.94]="B3",n[n.B4=493.88]="B4",n[n.B5=987.77]="B5",n[n.B6=1975.53]="B6",n[n.B7=3951]="B7",n[n.B8=7902.13]="B8",n))(J||{}),Q=(n=>(n.Sine="sine",n.Square="square",n.Sawtooth="sawtooth",n.Triangle="triangle",n))(Q||{});function j(n,t,r){const e=n.slice();return e[5]=t[r],e}function z(n){let t,r=n[5].frontend.frequency.value+"",e,s,i=n[5].frontend.type+"",l;return{c(){t=_("div"),e=G(r),s=G(" - "),l=G(i)},m(h,u){V(h,t,u),o(t,e),o(t,s),o(t,l)},p(h,u){u&1&&r!==(r=h[5].frontend.frequency.value+"")&&q(e,r),u&1&&i!==(i=h[5].frontend.type+"")&&q(l,i)},d(h){h&&B(t)}}}function yn(n){let t,r,e,s,i,l,h,u,a,w,S=P(n[0]),f=[];for(let d=0;d<S.length;d+=1)f[d]=z(j(n,S,d));return{c(){t=_("main");for(let d=0;d<f.length;d+=1)f[d].c();r=F(),e=_("div"),s=_("button"),s.textContent="add",i=F(),l=_("button"),l.textContent="play",h=F(),u=_("button"),u.textContent="stop",tn(t,"class","w-full grid place-items-center")},m(d,b){V(d,t,b);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(t,null);o(t,r),o(t,e),o(e,s),o(e,i),o(e,l),o(e,h),o(e,u),a||(w=[E(s,"click",n[1]),E(l,"click",n[2]),E(u,"click",n[3])],a=!0)},p(d,[b]){if(b&1){S=P(d[0]);let p;for(p=0;p<S.length;p+=1){const M=j(d,S,p);f[p]?f[p].p(M,b):(f[p]=z(M),f[p].c(),f[p].m(t,r))}for(;p<f.length;p+=1)f[p].d(1);f.length=S.length}},i:m,o:m,d(d){d&&B(t),nn(f,d),a=!1,D(w)}}}function wn(n,t,r){let e;N(n,Cn,u=>r(4,e=u));function s(){e.createOscillator({frequency:J.C1*Math.floor(Math.random()*4+3),shape:Q.Sine,gain:.2,detune:10*Math.random()}).connect(e.getDestination(),{}),r(0,h=e.getSources())}function i(){e.getSources().map(u=>u.start())}function l(){e.getSources().map(u=>u.stop())}let h=e.getSources();return[h,s,i,l]}class $n extends Sn{constructor(t){super(),pn(this,t,wn,yn,U,{})}}new $n({target:document.getElementById("app")});
